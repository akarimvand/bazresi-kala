<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ú¯Ø²Ø§Ø±Ø´â€ŒØ³Ø§Ø² Ø³Ø§Ù¾Ø±Ø§</title>

    <!-- Bootstrap 5 CSS (CDN) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css" rel="stylesheet">

    <!-- ÙÙˆÙ†Øª ÙˆØ²ÛŒØ± -->
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css" rel="stylesheet" type="text/css" />

    <style>
        body {
            font-family: 'Vazir', 'Segoe UI', sans-serif;
            background-color: #f8f9fa;
        }
        .vazir { font-family: 'Vazir', sans-serif; }
        .inter { font-family: 'Segoe UI', sans-serif; }
        .card {
            border: none;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .btn-primary {
            background: linear-gradient(90deg, #1877f2, #1b74e4);
            border: none;
            transition: all 0.3s;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(24,119,242,0.3);
        }
        .btn-copy { background-color: #495057; color: white; }
        .btn-text { background-color: #007bff; color: white; }

        .loader {
            width: 18px;
            height: 18px;
            border: 3px solid white;
            border-top-color: #1877f2;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            display: inline-block;
            margin-left: 8px;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
        .btn-loading { pointer-events: none; opacity: 0.8; }

        #reportContent h5, #reportContent p, #reportContent ul {
            margin-bottom: 12px;
            line-height: 2;
        }
        #reportContent h5 {
            color: #1877f2;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 4px;
            font-size: 1.1rem;
        }
        #reportContent ul {
            padding-right: 20px;
        }
    </style>
</head>
<body>

    <div class="container py-5">
        <div class="text-center mb-5">
            <h1 id="appTitle" class="display-6 fw-bold text-primary vazir">Ú¯Ø²Ø§Ø±Ø´â€ŒØ³Ø§Ø² Ø³Ø§Ù¾Ø±Ø§</h1>
            <p class="text-muted">Ø³ÛŒØ³ØªÙ… Ù‡ÙˆØ´Ù…Ù†Ø¯ ØªÙˆÙ„ÛŒØ¯ Ú¯Ø²Ø§Ø±Ø´ Ø¨Ø§Ø²Ø±Ø³ÛŒ Ú©Ø§Ù„Ø§</p>
        </div>

        <!-- Ø§Ù†ØªØ®Ø§Ø¨ Ø²Ø¨Ø§Ù† -->
        <div class="d-flex justify-content-end mb-4">
            <label for="langSelect" class="me-2 d-flex align-items-center text-secondary">Ø²Ø¨Ø§Ù†:</label>
            <select id="langSelect" class="form-select w-auto">
                <option value="fa">ÙØ§Ø±Ø³ÛŒ</option>
                <option value="en">English</option>
            </select>
        </div>

        <form id="inspectionForm" class="bg-white p-4 p-md-5 rounded-4 shadow-sm">
            <div class="row g-4">
                <div class="col-12 col-md-6">
                    <label for="productName" id="productNameLabel" class="form-label vazir">Ù†Ø§Ù… Ú©Ø§Ù„Ø§</label>
                    <input type="text" class="form-control" id="productName" required>
                </div>
                <div class="col-12 col-md-6">
                    <label for="orderNumber" id="orderNumberLabel" class="form-label vazir">Ø´Ù…Ø§Ø±Ù‡ Ø³ÙØ§Ø±Ø´</label>
                    <input type="text" class="form-control" id="orderNumber" required>
                </div>
                <div class="col-12 col-md-6">
                    <label for="inspectionDate" id="inspectionDateLabel" class="form-label vazir">ØªØ§Ø±ÛŒØ® Ø¨Ø§Ø²Ø±Ø³ÛŒ</label>
                    <input type="date" class="form-control" id="inspectionDate" required>
                </div>
                <div class="col-12 col-md-6">
                    <label for="inspectionType" id="inspectionTypeLabel" class="form-label vazir">Ù†ÙˆØ¹ Ø¨Ø§Ø²Ø±Ø³ÛŒ</label>
                    <select id="inspectionType" class="form-select"></select>
                </div>
                <div class="col-12">
                    <label for="standard" id="standardLabel" class="form-label vazir">Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ù…ÙˆØ±Ø¯ Ø§Ø±Ø¬Ø§Ø¹</label>
                    <input type="text" class="form-control" id="standard" placeholder="Ù…Ø«Ù„Ø§Ù‹ API 6A, ISO 9001">
                </div>
                <div class="col-12">
                    <label for="results" id="resultsLabel" class="form-label vazir">Ù†ØªØ§ÛŒØ¬ Ø¨Ø§Ø²Ø±Ø³ÛŒ (Ù…Ø®ØªØµØ±)</label>
                    <textarea id="results" rows="3" class="form-control" placeholder="Ù…Ø«Ù„Ø§Ù‹: Ù‡Ù…Ù‡ Ø§Ø¨Ø¹Ø§Ø¯ Ù…Ø·Ø§Ø¨Ù‚ Ù†Ù‚Ø´Ù‡ØŒ Ø¬ÙˆØ´ Ø¨Ø¯ÙˆÙ† Ø¹ÛŒØ¨"></textarea>
                </div>
                <div class="col-12 col-md-6">
                    <label for="status" id="statusLabel" class="form-label vazir">ÙˆØ¶Ø¹ÛŒØª Ú©Ù„ÛŒ</label>
                    <select id="status" class="form-select"></select>
                </div>
                <div class="col-12 col-md-6">
                    <label for="inspectorName" id="inspectorNameLabel" class="form-label vazir">Ù†Ø§Ù… Ø¨Ø§Ø²Ø±Ø³</label>
                    <input type="text" class="form-control" id="inspectorName" required>
                </div>
            </div>

            <div class="text-center mt-5">
                <button type="button" id="generateBtn" class="btn btn-primary px-5 py-2 fs-5">
                    ğŸ“„ Ø³Ø§Ø®Øª Ú¯Ø²Ø§Ø±Ø´ Ù‡ÙˆØ´Ù…Ù†Ø¯
                </button>
            </div>
        </form>

        <!-- Ù†Ù…Ø§ÛŒØ´ Ú¯Ø²Ø§Ø±Ø´ Ø¨Ø§ ÙØ±Ù…Øª HTML -->
        <div id="reportCard" class="mt-5 bg-white p-4 p-md-5 rounded-4 shadow-sm" style="display: none;">
            <h2 id="reportTitle" class="h4 fw-bold mb-4 vazir">Ú¯Ø²Ø§Ø±Ø´ Ø¨Ø§Ø²Ø±Ø³ÛŒ Ú©Ø§Ù„Ø§</h2>
            <div id="reportContent" class="text-dark"></div>

            <div class="mt-4 d-flex flex-wrap gap-3 justify-content-center">
                <button id="copyReport" class="btn btn-copy btn-sm px-4">ğŸ“‹ Ú©Ù¾ÛŒ Ú¯Ø²Ø§Ø±Ø´</button>
                <button id="showAsText" class="btn btn-text btn-sm px-4">ğŸ“„ Ù†Ù…Ø§ÛŒØ´ Ù…ØªÙ† Ø®Ø§Ù…</button>
            </div>
        </div>
    </div>

    <script>
        const translations = {
            fa: {
                appTitle: "Ú¯Ø²Ø§Ø±Ø´â€ŒØ³Ø§Ø² Ø³Ø§Ù¾Ø±Ø§",
                productName: "Ù†Ø§Ù… Ú©Ø§Ù„Ø§",
                orderNumber: "Ø´Ù…Ø§Ø±Ù‡ Ø³ÙØ§Ø±Ø´",
                inspectionDate: "ØªØ§Ø±ÛŒØ® Ø¨Ø§Ø²Ø±Ø³ÛŒ",
                inspectionType: "Ù†ÙˆØ¹ Ø¨Ø§Ø²Ø±Ø³ÛŒ",
                standard: "Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ù…ÙˆØ±Ø¯ Ø§Ø±Ø¬Ø§Ø¹",
                results: "Ù†ØªØ§ÛŒØ¬ Ø¨Ø§Ø²Ø±Ø³ÛŒ (Ù…Ø®ØªØµØ±)",
                status: "ÙˆØ¶Ø¹ÛŒØª Ú©Ù„ÛŒ",
                inspectorName: "Ù†Ø§Ù… Ø¨Ø§Ø²Ø±Ø³",
                generate: "ğŸ“„ Ø³Ø§Ø®Øª Ú¯Ø²Ø§Ø±Ø´ Ù‡ÙˆØ´Ù…Ù†Ø¯",
                reportTitle: "Ú¯Ø²Ø§Ø±Ø´ Ø¨Ø§Ø²Ø±Ø³ÛŒ Ú©Ø§Ù„Ø§",
                copy: "ğŸ“‹ Ú©Ù¾ÛŒ Ú¯Ø²Ø§Ø±Ø´",
                showText: "ğŸ“„ Ù†Ù…Ø§ÛŒØ´ Ù…ØªÙ† Ø®Ø§Ù…",
                compliant: "Ù…Ø·Ø§Ø¨Ù‚ Ø¨Ø§ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯",
                needsFix: "Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§ØµÙ„Ø§Ø­ (Ù‚Ø§Ø¨Ù„ Ø§ØµÙ„Ø§Ø­)",
                rejected: "Ù…Ø±Ø¯ÙˆØ¯ (ØºÛŒØ±Ù‚Ø§Ø¨Ù„ Ø§ØµÙ„Ø§Ø­)",
                initial: "Ø¨Ø§Ø²Ø±Ø³ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ (Initial Inspection)",
                final: "Ø¨Ø§Ø²Ø±Ø³ÛŒ Ù†Ù‡Ø§ÛŒÛŒ (Final Inspection)",
                during: "Ø¨Ø§Ø²Ø±Ø³ÛŒ Ø¯Ø± Ø­ÛŒÙ† ØªÙˆÙ„ÛŒØ¯ (During Production)",
                ndt: "Ø¨Ø§Ø²Ø±Ø³ÛŒ NDT",
                welding: "Ø¨Ø§Ø²Ø±Ø³ÛŒ Ø¬ÙˆØ´Ú©Ø§Ø±ÛŒ"
            },
            en: {
                appTitle: "Sapra Report Generator",
                productName: "Product Name",
                orderNumber: "Order Number",
                inspectionDate: "Inspection Date",
                inspectionType: "Inspection Type",
                standard: "Reference Standard",
                results: "Inspection Results (Summary)",
                status: "Overall Status",
                inspectorName: "Inspector Name",
                generate: "ğŸ“„ Generate Smart Report",
                reportTitle: "Inspection Report",
                copy: "ğŸ“‹ Copy Report",
                showText: "ğŸ“„ Show Raw Text",
                compliant: "Compliant with Standard",
                needsFix: "Needs Correction (Reparable)",
                rejected: "Rejected (Irreparable)",
                initial: "Initial Inspection",
                final: "Final Inspection",
                during: "During Production",
                ndt: "NDT Inspection",
                welding: "Welding Inspection"
            }
        };

        function updateLanguage(lang) {
            const t = translations[lang];
            document.getElementById('appTitle').textContent = t.appTitle;
            document.getElementById('productNameLabel').textContent = t.productName;
            document.getElementById('orderNumberLabel').textContent = t.orderNumber;
            document.getElementById('inspectionDateLabel').textContent = t.inspectionDate;
            document.getElementById('inspectionTypeLabel').textContent = t.inspectionType;
            document.getElementById('standardLabel').textContent = t.standard;
            document.getElementById('resultsLabel').textContent = t.results;
            document.getElementById('statusLabel').textContent = t.status;
            document.getElementById('inspectorNameLabel').textContent = t.inspectorName;
            document.getElementById('generateBtn').innerHTML = t.generate;
            document.getElementById('reportTitle').textContent = t.reportTitle;
            document.getElementById('copyReport').textContent = t.copy;
            document.getElementById('showAsText').textContent = t.showText;

            const inspectionType = document.getElementById('inspectionType');
            inspectionType.innerHTML = '';
            [t.initial, t.final, t.during, t.ndt, t.welding].forEach(text => {
                const option = document.createElement('option');
                option.value = text;
                option.textContent = text;
                inspectionType.appendChild(option);
            });

            const status = document.getElementById('status');
            status.innerHTML = '';
            [t.compliant, t.needsFix, t.rejected].forEach(text => {
                const option = document.createElement('option');
                option.value = text;
                option.textContent = text;
                status.appendChild(option);
            });

            document.body.className = lang === 'fa' ? 'vazir' : 'inter';
            const card = document.getElementById('reportCard');
            card.className = card.className.replace(/vazir|inter/g, '').trim() + ` ${lang === 'fa' ? 'vazir' : 'inter'}`;
        }

        document.getElementById('langSelect').addEventListener('change', function () {
            updateLanguage(this.value);
        });

        updateLanguage('fa');

        // ØªÙˆÙ„ÛŒØ¯ Ú¯Ø²Ø§Ø±Ø´ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ
        document.getElementById('generateBtn').addEventListener('click', async function () {
            const btn = this;
            const originalText = btn.innerHTML;
            btn.innerHTML = '<span class="loader"></span> Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´...';
            btn.classList.add('btn-loading');

            const lang = document.getElementById('langSelect').value;
            const t = translations[lang];

            const data = {
                productName: document.getElementById('productName').value,
                orderNumber: document.getElementById('orderNumber').value,
                inspectionDate: document.getElementById('inspectionDate').value,
                inspectionType: document.getElementById('inspectionType').value,
                standard: document.getElementById('standard').value,
                results: document.getElementById('results').value,
                status: document.getElementById('status').value,
                inspectorName: document.getElementById('inspectorName').value
            };

            if (!data.productName || !data.orderNumber || !data.inspectionDate || !data.inspectorName) {
                alert(lang === 'fa' ? 'Ù„Ø·ÙØ§Ù‹ ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø¶Ø±ÙˆØ±ÛŒ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯.' : 'Please fill all required fields.');
                btn.innerHTML = originalText;
                btn.classList.remove('btn-loading');
                return;
            }

            const formatDate = (dateStr) => {
                const date = new Date(dateStr);
                return lang === 'fa' ? date.toLocaleDateString('fa-IR') : date.toISOString().split('T')[0];
            };

            const message = lang === 'fa' ?
                `ÛŒÚ© Ú¯Ø²Ø§Ø±Ø´ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ùˆ Ø±Ø³Ù…ÛŒ Ø¨Ù‡ Ø²Ø¨Ø§Ù† ÙØ§Ø±Ø³ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø²ÛŒØ± ØªÙ‡ÛŒÙ‡ Ú©Ù†ÛŒØ¯:

                - Ù†Ø§Ù… Ú©Ø§Ù„Ø§: ${data.productName}
                - Ø´Ù…Ø§Ø±Ù‡ Ø³ÙØ§Ø±Ø´: ${data.orderNumber}
                - ØªØ§Ø±ÛŒØ® Ø¨Ø§Ø²Ø±Ø³ÛŒ: ${formatDate(data.inspectionDate)}
                - Ù†ÙˆØ¹ Ø¨Ø§Ø²Ø±Ø³ÛŒ: ${data.inspectionType}
                - Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ù…ÙˆØ±Ø¯ Ø§Ø±Ø¬Ø§Ø¹: ${data.standard || 'Ù†Ø§Ù…Ø´Ø®Øµ'}
                - Ù†ØªØ§ÛŒØ¬ Ø¨Ø§Ø²Ø±Ø³ÛŒ: ${data.results || 'Ø¬Ø²Ø¦ÛŒØ§Øª Ø§Ø¶Ø§ÙÙ‡â€ŒØ§ÛŒ ÙˆØ§Ø±Ø¯ Ù†Ø´Ø¯Ù‡'}
                - ÙˆØ¶Ø¹ÛŒØª Ú©Ù„ÛŒ: ${data.status}
                - Ù†Ø§Ù… Ø¨Ø§Ø²Ø±Ø³: ${data.inspectorName}

                Ú¯Ø²Ø§Ø±Ø´ Ø¨Ø§ÛŒØ¯ Ø´Ø§Ù…Ù„ Ø¹Ù†Ø§ÙˆÛŒÙ† Ù…Ù†Ø§Ø³Ø¨ØŒ Ø®Ù„Ø§ØµÙ‡ Ù†ØªØ§ÛŒØ¬ØŒ ØªØ­Ù„ÛŒÙ„ ÙˆØ¶Ø¹ÛŒØª Ùˆ Ù†ØªÛŒØ¬Ù‡â€ŒÚ¯ÛŒØ±ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø¨Ø§Ø´Ø¯. Ù„Ø·ÙØ§Ù‹ Ø§Ø² markdown ÛŒØ§ Ú©Ø§Ø±Ø§Ú©ØªØ±Ù‡Ø§ÛŒ * Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù†Ú©Ù†ÛŒØ¯ Ùˆ ÙÙ‚Ø· Ù…ØªÙ† ØªÙ…ÛŒØ² Ø¨Ø§ Ø®Ø·ÙˆØ· Ø¬Ø¯ÛŒØ¯ Ù…Ù†Ø§Ø³Ø¨ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯.` :
                `Generate a professional and formal report in English based on the following data:

                - Product Name: ${data.productName}
                - Order Number: ${data.orderNumber}
                - Inspection Date: ${formatDate(data.inspectionDate)}
                - Inspection Type: ${data.inspectionType}
                - Reference Standard: ${data.standard || 'Not specified'}
                - Inspection Results: ${data.results || 'No additional details provided'}
                - Overall Status: ${data.status}
                - Inspector Name: ${data.inspectorName}

                The report should include proper headings, summary of findings, status analysis, and professional conclusion. Do not use markdown or * characters. Use clean text with proper line breaks.`;

            try {
                const response = await fetch('reportgenerate.php', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                    body: 'message=' + encodeURIComponent(message)
                });

                const result = await response.json();
                btn.innerHTML = originalText;
                btn.classList.remove('btn-loading');

                const reportCard = document.getElementById('reportCard');
                const reportContent = document.getElementById('reportContent');

                if (result.success) {
                    // Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ùˆ ÙØ±Ù…Øªâ€ŒØ¯Ù‡ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ù…ØªÙ† Ø¨Ù‡ HTML
                    let cleanedText = result.reply
                        .replace(/\*\*/g, '')  // Ø­Ø°Ù **bold**
                        .replace(/\*/g, 'â€¢')   // ØªØ¨Ø¯ÛŒÙ„ * Ø¨Ù‡ Ù†Ø´Ø§Ù†Ú¯Ø± Ù„ÛŒØ³Øª
                        .replace(/#/g, '')     // Ø­Ø°Ù Ù‡Ø¯Ø±Ù‡Ø§ÛŒ markdown
                        .trim();

                    // ØªÙ‚Ø³ÛŒÙ… Ø¨Ø± Ø§Ø³Ø§Ø³ Ø®Ø·ÙˆØ· Ø®Ø§Ù„ÛŒ
                    const lines = cleanedText.split('\n').filter(line => line.trim() !== '');
                    let htmlContent = '';

                    lines.forEach(line => {
                        const trimmed = line.trim();
                        if (trimmed.startsWith('â€¢')) {
                            if (!htmlContent.endsWith('<ul>')) htmlContent += '<ul>';
                            htmlContent += `<li>${trimmed.substring(1).trim()}</li>`;
                            if (!lines[lines.indexOf(line) + 1]?.trim().startsWith('â€¢')) {
                                htmlContent += '</ul>';
                            }
                        } else if (trimmed.length < 60 && !trimmed.includes('â€¢')) {
                            // Ø§Ø­ØªÙ…Ø§Ù„Ø§Ù‹ ØªÛŒØªØ± Ø§Ø³Øª
                            htmlContent += `<h5>${trimmed}</h5>`;
                        } else {
                            // Ù¾Ø§Ø±Ø§Ú¯Ø±Ø§Ù Ù…Ø¹Ù…ÙˆÙ„ÛŒ
                            if (!htmlContent.endsWith('</ul>')) htmlContent += '</ul>'; // Ø¨Ø³ØªÙ† Ù„ÛŒØ³Øª Ù‚Ø¨Ù„ÛŒ
                            htmlContent += `<p>${trimmed}</p>`;
                        }
                    });

                    // Ø¨Ø³ØªÙ† Ø¢Ø®Ø±ÛŒÙ† ØªÚ¯
                    if (htmlContent.endsWith('<ul>')) htmlContent += '</ul>';

                    reportContent.innerHTML = htmlContent;
                    reportCard.style.display = 'block';
                    reportCard.scrollIntoView({ behavior: 'smooth' });
                } else {
                    reportContent.innerHTML = `<p class="text-danger">âŒ Ø®Ø·Ø§: ${result.reply}</p>`;
                    reportCard.style.display = 'block';
                }
            } catch (error) {
                btn.innerHTML = originalText;
                btn.classList.remove('btn-loading');
                document.getElementById('reportContent').innerHTML = `<p class="text-danger">âš ï¸ Ø®Ø·Ø§ÛŒ Ø´Ø¨Ú©Ù‡: Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¨Ù‡ Ø³Ø±ÙˆØ± Ù…ØªØµÙ„ Ø´Ø¯.</p>`;
                document.getElementById('reportCard').style.display = 'block';
                document.getElementById('reportCard').scrollIntoView({ behavior: 'smooth' });
            }
        });

        // Ú©Ù¾ÛŒ Ú¯Ø²Ø§Ø±Ø´ (Ø¨Ù‡ ØµÙˆØ±Øª Ù…ØªÙ† Ø³Ø§Ø¯Ù‡)
        document.getElementById('copyReport').addEventListener('click', function () {
            const text = document.getElementById('reportContent').innerText;
            navigator.clipboard.writeText(text).then(() => {
                alert('âœ… ' + (document.getElementById('langSelect').value === 'fa' ? 'Ú¯Ø²Ø§Ø±Ø´ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ú©Ù¾ÛŒ Ø´Ø¯!' : 'Report copied successfully!'));
            }).catch(() => {
                alert('âŒ ' + (document.getElementById('langSelect').value === 'fa' ? 'Ú©Ù¾ÛŒ Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯.' : 'Copy failed.'));
            });
        });

        // Ù†Ù…Ø§ÛŒØ´ Ù…ØªÙ† Ø®Ø§Ù…
        document.getElementById('showAsText').addEventListener('click', function () {
            const text = document.getElementById('reportContent').innerText;
            alert(text);
        });
    </script>
</body>
</html>